- Move your global [here](https://www.justinweiss.com/articles/better-globals-with-a-tiny-activesupport-module/#:~:text=pattern%20to%20follow.-,The%20Rails%20way,-If%20you%20dig), fallback to the local instance context, then the thread context 
	- Testing is easy with mock
- https://github.com/krisleech/wisper/blob/master/lib/wisper/global_listeners.rb
	- Set-based queue with Mutex
	- broadcast magic https://github.com/krisleech/wisper/blob/master/lib/wisper/publisher.rb#L42-L44
	- subscribe magic https://github.com/krisleech/wisper/blob/master/lib/wisper/global_listeners.rb#L16-L25
	- Yeah, it is native, why you have to think about async or event driven stuff on simple things, with sidekiq waiting out there?
- https://github.com/ezcater/activerecord-postgres_pub_sub
- https://twitter.com/dhh/status/1203721512366116866 :shrug:
	- "What I've found is that the pub/sub pattern works best when the functioning of the application doesn't depend on the logic. So don't use it to keep the integrity of your domain model or user expectations, but offloading stats to a Kafka pipeline? Fine!" -> Sure, we don't use it for stats
		- "The only callbacks I like to keep in my models are for data formatting on save. I feel heavy reliance on callbacks can lead to the God Model problem" -> :yesshh:, model should be easily denormalised
	- https://karolgalanciak.com/blog/2019/11/30/from-activerecord-callbacks-to-publish-slash-subscribe-pattern-and-event-driven-design/ **Single Responsibility Principle**
- https://til.magmalabs.io/posts/284ee3d758-ruby-double-star